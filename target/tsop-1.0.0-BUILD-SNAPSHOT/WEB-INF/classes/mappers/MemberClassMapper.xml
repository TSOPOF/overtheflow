<?xml version="1.0" encoding="UTF-8"?>
<mapper namespace="com.overtheflow.dao.MemberClassMapper">
	<resultMap id="result" type="com.overtheflow.vo.MemberClassVO">
		<id property="memberClassNo" column="member_class_no" />
		<id property="memberClassName" column="member_class_name" />
		<id property="maxStorageSize" column="max_storage_size" />
	</resultMap>
	<insert id="addMemberClass" parameterType="com.overtheflow.vo.MemberClassVO">
		insert into member_class_tb
			(member_class_no, member_class_name, max_storage_size)
				values #{memberClassNo}, #{memberClassName}, #{maxStorageSize})
	</insert>
	<update id="modifyMemberClass" parameterType="com.overtheflow.vo.MemberClassVO">
		update member_class_tb 
		<set>
	      <if test="memberClassName != null">member_class_name=#{memberClassName},</if>
	      <if test="maxStorageSize != null">max_storage_size=#{maxStorageSize},</if>
    	</set>
	</update>
	<delete id="deleteMemberClass" parameterType="int">
		delete from member_class_tb where member_class_no=#{memberClassNo}
	</delete>
	<select id="getClass" parameterType="int" resultType="com.overtheflow.vo.MemberClassVO">
		select * from member_class_tb where member_class_no=#{memberClassNo}
	</select>
	<select id="getClasses" parameterType="map" resultMap="result">
		select * from member_class_tb
			<where>
				<if test="memberClassName!=null">
					member_class_name like '%${memberClassName}%'
				</if>
				<if test="maxStorageSize!=null">
					max_storage_size=#{maxStorageSize}
				</if>
			</where>
	</select>
	<select id="getAll" resultMap="result">
		select * from member_class_tb
	</select>
	<select id="getMaxNo" resultType="int">
		select MAX(member_class_no) as max_no from member_class_tb
	</select>
</mapper>	